{"utilities":{},"programModules":{"EXT100MI":{"program":"EXT100MI","triggers":{},"transactions":{"AddShpDocument":{"sourceUuid":"59552bfb-565c-4ace-97e2-f9b0027680f1","name":"AddShpDocument","program":"EXT100MI","description":"Attach document to the shipment","active":true,"multi":false,"modified":1650293435021,"modifiedBy":"RASANA","outputFields":[{"name":"MBOL","description":"Master Bill Of Lading Number","length":17,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONN","description":"Shipment","length":7,"mandatory":true,"type":"A"},{"name":"DONR","description":"Document Number","length":3,"mandatory":true,"type":"A"},{"name":"DOVA","description":"Document Variant","length":2,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"59552bfb-565c-4ace-97e2-f9b0027680f1":{"uuid":"59552bfb-565c-4ace-97e2-f9b0027680f1","updated":1650452083033,"updatedBy":"RASANA","created":1650292848478,"createdBy":"RASANA","apiVersion":"0.9","beVersion":"16.0.0.20220217170023","codeHash":"F6AEDF9A9963695B64E9F386A8DC75455F94043086443E7AEF2D83CF1C840AC6","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIGJlaW5nIHVzZWQgdG8gYXR0YWNoIGRlbGl2ZXJ5IGRvY3VtZW50IDkyMCAwMSB0byBTaGlwbWVudCBpbiBNV1MyNjAgKERlbGl2ZXJ5LkNvbm5lY3QgRGVsaXZlcnkgZG9jdW1lbnRzKQ0KICoNCiAqIE5hbWU6IEVYVDEwME1JLkFkZFNocERvY3VtZW50DQogKiBEZXNjcmlwdGlvbjogQWRkaW5nIHJlY29yZHMgdG8gRERPQ1VYIHRhYmxlIChNV1MyNjAtUGFydG5lciBSZXBvc2l0b3J5KQ0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uDQogKiAyMDIyMDQxOAkgIFN1cml5YU5AZm9ydHVkZS5jbyAgICAgICAgIEF0dGFjaGluZyBkZWxpdmVyeSBkb2N1bWVudHMgdG8gc2hpcG1lbnQgaW4gTVdTMjYwIA0KICoNCiAqLw0KDQoNCmltcG9ydCBqYXZhLnRpbWUuSW5zdGFudDsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5ab25lSWQ7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcjsNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lUGFyc2VFeGNlcHRpb247DQppbXBvcnQgamF2YS50aW1lLnRlbXBvcmFsLkNocm9ub1VuaXQ7DQppbXBvcnQgZ3Jvb3Z5Lmpzb24uKjsNCmltcG9ydCBncm9vdnkuanNvbi5Kc29uU2x1cnBlcjsNCnB1YmxpYyBjbGFzcyBBZGRTaHBEb2N1bWVudCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICAgIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogICAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7DQogICAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogICAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7DQogICAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsNCiAgICBwcml2YXRlIGZpbmFsIElvbkFQSSBpb247DQoNCiAgICAvL0lucHV0IGZpZWxkcw0KICAgIHByaXZhdGUgaW50IGlDT05POw0KICAgIHByaXZhdGUgU3RyaW5nIGlDT05OOw0KICAgIHByaXZhdGUgU3RyaW5nIGlET05SOw0KICAgIHByaXZhdGUgU3RyaW5nIGlET1ZBOw0KICAgIHByaXZhdGUgU3RyaW5nIG9NQk9MOw0KICAgIA0KICAgIHByaXZhdGUgU3RyaW5nIGRlbGl2ZXJ5TnVtYmVyID0gIiI7DQoNCg0KICAgIHB1YmxpYyBBZGRTaHBEb2N1bWVudChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5LCBNSUNhbGxlckFQSSBtaUNhbGxlciwgSW9uQVBJIGlvbikgew0KICAgICAgICB0aGlzLm1pID0gbWk7DQogICAgICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7DQogICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogICAgICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsNCiAgICAgICAgdGhpcy5pb24gPSBpb247DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgbWFpbigpIHsgLy9NYWluIG1ldGhvZA0KICAgICAgICBpQ09OTyA9IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyOw0KICAgICAgICBpQ09OTiA9IG1pLmluRGF0YS5nZXQoIkNPTk4iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDT05OIik7DQogICAgICAgIGlET05SID0gbWkuaW5EYXRhLmdldCgiRE9OUiIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiRE9OUiIpOw0KICAgICAgICBpRE9WQSA9IG1pLmluRGF0YS5nZXQoIkRPVkEiKSA9PSBudWxsID8gMCA6IG1pLmluRGF0YS5nZXQoIkRPVkEiKTsNCiAgICAgICAgLy9WYWxpZGF0ZSBJbnB1dHMNCiAgICAgICAgYm9vbGVhbiB2YWxpZGlucHV0ID0gdmFsaWRhdGVJbnB1dHMoaUNPTk8sIGlDT05OLCBpRE9OUiwgaURPVkEpOw0KICAgICAgICAvL0NoZWNrIGlmIERvY3VtZW50IGFscmVhZHkgZXhpc3RzDQogICAgICAgIGJvb2xlYW4gZG9jZXhpc3RzID0gY2hlY2tpZkRvY3VtZW50QWxyZWFkeUV4aXN0cyhpQ09OTywgaUNPTk4sIGlET05SLCBpRE9WQSk7DQogICAgICAgIGlmICh2YWxpZGlucHV0ICYmICFkb2NleGlzdHMpIHsNCiAgICAgICAgICAgIFN0cmluZyBib2wgPSBnZXRCb2woKTsNCiAgICAgICAgICAgIGlmICghYm9sLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICBjcmVhdGVEb2N1bWVudChpQ09OTywgaUNPTk4sIGlET05SLCBpRE9WQSwgYm9sKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbWkuZXJyb3IoIkVycm9yIGluIGdldHRpbmcgQmlsbCBPZiBMYWRpbmcgTnVtYmVyLiBQbGVhc2UgY2hlY2sgc2V0dGluZ3MuIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIGJvb2xlYW4gdmFsaWRhdGVJbnB1dHMoaW50IGNvbm8sIFN0cmluZyBjb25uLCBTdHJpbmcgZG9uciwgU3RyaW5nIGRvdmEpIHsgLy9WYWxpZGF0ZSBjb21wYW55LCBzaGlwbWVudCwgZG9jdW1lbnQgYW5kIHZhcmlhbnQuIA0KDQogICAgICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXINCiAgICAgICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGNvbm8udG9TdHJpbmcoKS50cmltKCldOw0KICAgICAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPg0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBjb25vKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjayk7DQogICAgICAgIGlmICghZG9uci50cmltKCkuZXF1YWxzKCI5MjAiKSB8fCAhZG92YS50cmltKCkuZXF1YWxzKCIwMSIpKSB7DQogICAgICAgICAgICBtaS5lcnJvcigiT25seSBEb2N1bWVudCA5MjAgYW5kIFZhcmlhbnQgMDEgYWxsb3dlZCB0byBiZSBjb25uZWN0ZWQgdG8gU2hpcG1lbnQiKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vVmFsaWRhdGUgU2hpcG1lbnQNCiAgICAgICAgZGVmIFNoaXBwYXJhbXMgPSBbIkNPTk4iOiBjb25uLnRvU3RyaW5nKCkudHJpbSgpXTsNCiAgICAgICAgZGVmIFNoaXBjYWxsYmFjayA9IHsNCiAgICAgICAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+DQogICAgICAgICAgICBpZiAocmVzcG9uc2UuQ09OTiA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWkuZXJyb3IoIlNoaXBtZW50IE51bWJlciBkb2VzIG5vdCBleGlzdDogIiArIGNvbm4pOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBtaUNhbGxlci5jYWxsKCJEUlMxMDBNSSIsICJHZXRTaGlwbWVudCIsIFNoaXBwYXJhbXMsIFNoaXBjYWxsYmFjayk7DQoNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBib29sZWFuIGNoZWNraWZEb2N1bWVudEFscmVhZHlFeGlzdHMoaW50IGNvbm8sIFN0cmluZyBjb25uLCBTdHJpbmcgZG9uciwgU3RyaW5nIGRvdmEpIHsgLy9DaGVjayBpZiB0aGUgZG9jdW1lbnQgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBzaGlwbWVudA0KICAgICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJERE9DVVgiKS5pbmRleCgiMTAiKS5zZWxlY3Rpb24oIkRCQ09OTyIsICJEQkNPTk4iLCAiREJET05SIiwgIkRCRE9WQSIsICJEQklOT1UiLCAiREJETElYIiwgIkRCS0NPTiIsICJEQk1CT0wiKS5idWlsZCgpOw0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJDT05PIiwgY29ubyk7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCQ09OTiIsIGNvbm4udG9JbnRlZ2VyKCkpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkRPTlIiLCBkb25yKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJET1ZBIiwgZG92YSk7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCSU5PVSIsIDEpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkRMSVgiLCAwKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJLQ09OIiwgY29ubi50b0ludGVnZXIoKSk7DQogICAgICAgIGlmIChxdWVyeS5yZWFkKGNvbnRhaW5lcikpIHsNCiAgICAgICAgICAgIG1pLmVycm9yKCJEb2N1bWVudCAiICsgZG9uciArICIgVmFyaWFudCAiICsgZG92YSArICIgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgU2hpcG1lbnQgIiArIGNvbm4pOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZmFsc2U7DQoNCiAgICB9DQoNCiAgICBwcml2YXRlIFN0cmluZyBnZXRCb2woKSB7ICAvL0dlbmVyYXRlIEJpbGwgb2YgTGFkaW5nIG51bWJlciBiYXNlZCBvbiBudW1iZXIgc2VyaWVzIGFuZCBjaGVja2RpZ2l0DQogICAgICAgIFN0cmluZyBiaWxsT2ZMYWRpbmc7DQogICAgICAgIFN0cmluZyBudW1iZXJTZXJpZXM7DQogICAgICAgIFN0cmluZyBwYXJhbWV0ZXI7DQogICAgICAgIFN0cmluZyBjaGVja0RpZ2l0Ow0KICAgICAgICBTdHJpbmcgd2FyZWhvdXNlID0gIiI7DQogICAgICAgIFN0cmluZyBkaXZpc2lvbiA9ICIiOw0KDQogICAgICAgIGRlZiBTaGlwbWVudFBhcmFtcyA9IFsiQ09OTiI6IGlDT05OLnRvU3RyaW5nKCldOw0KICAgICAgICANCiAgICAgICAgLy9HZXQgRGVsaXZlcnkgTnVtYmVyIGZvciB0aGUgU2hpcG1lbnQNCiAgICAgICAgZGVmIFNoaXBtZW50UGFyYW1zY2FsbGJhY2sgPSB7DQogICAgICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgICAgICBTdHJpbmcgPiBkZWxpdmVyeVJlc3BvbnNlIC0+DQogICAgICAgICAgICBpZiAoZGVsaXZlcnlSZXNwb25zZS5ETElYICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBkZWxpdmVyeU51bWJlciA9IGRlbGl2ZXJ5UmVzcG9uc2UuRExJWDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgIA0KICAgICAgICBtaUNhbGxlci5jYWxsKCJEUlMxMDBNSSIsICJMc3RCeURlbGl2ZXJ5IiwgU2hpcG1lbnRQYXJhbXMsIFNoaXBtZW50UGFyYW1zY2FsbGJhY2spOw0KICAgICAgICANCiAgICAgICAgLy9HZXQgV2FyZWhvdXNlIGZvciB0aGUgZGVsaXZlcnkNCiAgICAgICAgaWYgKCFkZWxpdmVyeU51bWJlci50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBkZWYgZGVsaXZlcnlQYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkRMSVgiOiBkZWxpdmVyeU51bWJlcl07DQogICAgICAgICAgICBkZWYgZGVsaXZlcnlDYWxsYmFjayA9IHsNCiAgICAgICAgICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgICAgICAgICAgU3RyaW5nID4gZGVsaXZlcnlyZXNwb25zZSAtPg0KICAgICAgICAgICAgICAgIGlmIChkZWxpdmVyeXJlc3BvbnNlLldITE8gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB3YXJlaG91c2UgPSBkZWxpdmVyeXJlc3BvbnNlLldITE8udHJpbSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsICJHZXRIZWFkIiwgZGVsaXZlcnlQYXJhbXMsIGRlbGl2ZXJ5Q2FsbGJhY2spOw0KICAgICAgICAgICAgDQogICAgICAgIGRlZiBkaXZpc2lvblBhcmFtcyA9IFsiV0hMTyI6IHdhcmVob3VzZV07DQogICAgICAgIA0KICAgICAgICAvL0dldCBkaXZpc2lvbiBmb3IgdGhlIHdhcmVob3VzZQ0KICAgICAgICBkZWYgZGl2aXNpb25DYWxsYmFjayA9IHsNCiAgICAgICAgICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgICAgICAgICAgU3RyaW5nID4gZGl2aXNpb25SZXNwb25zZSAtPg0KICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJEZWxpdmVyeVJlc3BvbnNlID0gJHtkaXZpc2lvblJlc3BvbnNlfSIpDQogICAgICAgICAgICAgICAgaWYgKGRpdmlzaW9uUmVzcG9uc2UuRElWSSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGRpdmlzaW9uID0gZGl2aXNpb25SZXNwb25zZS5ESVZJLnRyaW0oKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBtaUNhbGxlci5jYWxsKCJNTVMwMDVNSSIsICJHZXRXYXJlaG91c2UiLCBkaXZpc2lvblBhcmFtcywgZGl2aXNpb25DYWxsYmFjayk7DQoNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZGl2aXNpb24gPT0gbnVsbCkgZGl2aXNpb24gPSAiIjsNCg0KICAgICAgICAvL0dldCBCT0wgTnVtYmVyIGZyb20gQ1JTMTY1IChOdW1iZXIgU2VyaWVzKQ0KICAgICAgICBkZWYgcGFyYW1zID0gWyJOQlRZIjogIkIxIiwgIk5CSUQiOiAiQSJdOw0KICAgICAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgICAgICBTdHJpbmcgPiBudW1iZXJTZXJpZXNSZXNwb25zZSAtPg0KICAgICAgICAgICAgaWYgKG51bWJlclNlcmllc1Jlc3BvbnNlLk5CTlIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG51bWJlclNlcmllcyA9IFN0cmluZy5mb3JtYXQoIiUwOWQiLCBJbnRlZ2VyLnBhcnNlSW50KG51bWJlclNlcmllc1Jlc3BvbnNlLk5CTlIudHJpbSgpKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTMTY1TUkiLCAiUnR2TmV4dE51bWJlciIsIHBhcmFtcywgY2FsbGJhY2spOw0KDQogICAgICAgIC8vR2V0IEVBTiBOdW1iZXIgZnJvbSBDUlM3MDYNCiAgICAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ1NZUEFSIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJDUFBBUk0iKS5idWlsZCgpOw0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiQ1BDT05PIiwgaUNPTk8pOw0KICAgICAgICBjb250YWluZXIuc2V0KCJDUERJVkkiLCBkaXZpc2lvbik7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkNQU1RDTyIsICJDUlM3MDYiKTsNCiAgICAgICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgew0KICAgICAgICAgICAgcGFyYW1ldGVyID0gY29udGFpbmVyLmdldCgiQ1BQQVJNIikudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgNyk7DQogICAgICAgIH0NCg0KICAgICAgICAvL0dlbmVyYXRlIGNoZWNrRGlnaXQNCiAgICAgICAgaW50IGV2ZW4gPSAwOw0KICAgICAgICBpbnQgb2RkID0gMDsNCiAgICAgICAgYmlsbE9mTGFkaW5nID0gcGFyYW1ldGVyICsgbnVtYmVyU2VyaWVzOw0KICAgICAgICBmb3IgKGludCBqID0gMTsgaiA8IGJpbGxPZkxhZGluZy5sZW5ndGgoKTsgaisrKSB7DQogICAgICAgICAgICBpZiAoaiAlIDIgPT0gMCkgew0KICAgICAgICAgICAgICAgIGV2ZW4gKz0gSW50ZWdlci5wYXJzZUludChiaWxsT2ZMYWRpbmdbal0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBvZGQgKz0gSW50ZWdlci5wYXJzZUludChiaWxsT2ZMYWRpbmdbal0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgY2hlY2tEaWdpdCA9IDEwIC0gKCgoZXZlbikgKyBvZGQgKiAzKSAlIDEwKTsNCiAgICAgICAgYmlsbE9mTGFkaW5nID0gcGFyYW1ldGVyICsgbnVtYmVyU2VyaWVzICsgY2hlY2tEaWdpdDsNCiAgICAgICAgcmV0dXJuIGJpbGxPZkxhZGluZzsNCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSBjcmVhdGVEb2N1bWVudChpbnQgY29ubywgU3RyaW5nIGNvbm4sIFN0cmluZyBkb25yLCBTdHJpbmcgZG92YSwgU3RyaW5nIGJvbCkgeyAvL0F0dGFjaCBkb2N1bWVudCB0byB0aGUgc2hpcG1lbnQNCiAgICAgIA0KICAgICAgICBpZihib2w9PW51bGwpIGJvbCA9ICIiOw0KICAgICAgICBpZihjb25uPT1udWxsKSBjb25uID0gIiI7DQogICAgICAgIGlmKGRvbnI9PW51bGwpIGRvbnIgPSAiIjsNCiAgICAgICAgaWYoZG92YT09bnVsbCkgZG92YSA9ICIiOw0KICAgICAgICANCiAgICAgICAgU3RyaW5nIG5ib2w9IiI7DQogICAgICAgIGlmKGJvbC5sZW5ndGgoKT43KQ0KICAgICAgICB7DQogICAgICAgICAgbmJvbCA9IGJvbC5zdWJzdHJpbmcoNywgMTYpDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkRET0NVWCIpDQogICAgICAgICAgICAuaW5kZXgoIjEwIikNCiAgICAgICAgICAgIC5idWlsZCgpOw0KDQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkNPTk8iLCBjb25vKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJDT05OIiwgY29ubi50b0ludGVnZXIoKSk7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCRE9OUiIsIGRvbnIpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkRPVkEiLCBkb3ZhKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJETElYIiwgMCk7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCSU5PVSIsIDEpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQktDT04iLCBjb25uLnRvSW50ZWdlcigpKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJGRFNUIiwgIjA1Iik7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCRkRNQSIsIDEpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQk5CT0wiLCBuYm9sKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJNQk9MIiwgYm9sKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJSR0RUIiwgTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJMTURUIiwgTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKTsNCiAgICAgICAgY29udGFpbmVyLnNldCgiREJSR1RNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkNISUQiLCBwcm9ncmFtLmdldFVzZXIoKSk7DQogICAgICAgIGNvbnRhaW5lci5zZXQoIkRCQ0hOTyIsIDApOw0KICAgICAgICBjb250YWluZXIuc2V0KCJEQkZETk8iLCBuYm9sKTsNCiAgICAgICAgcXVlcnkuaW5zZXJ0KGNvbnRhaW5lcik7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJNQk9MIiwgYm9sKTsNCg0KICAgIH0NCg0KfQ=="}}}